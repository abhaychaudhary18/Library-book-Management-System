<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>User Dashboard - Library</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body{font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;background:#020617;color:#e5e7eb;margin:0;padding:24px;}
        .container{max-width:900px;margin:0 auto;}
        h1{margin-bottom:4px;}
        table{width:100%;border-collapse:collapse;margin-top:12px;}
        th,td{padding:8px 10px;border-bottom:1px solid #1f2933;font-size:0.9rem;}
        th{text-align:left;}
        .badge{display:inline-block;padding:2px 8px;border-radius:9999px;font-size:0.75rem;}
        .badge-overdue{background:rgba(220,38,38,0.18);border:1px solid rgba(248,113,113,0.7);}
        .badge-ok{background:rgba(22,163,74,0.16);border:1px solid rgba(34,197,94,0.65);}
        a{color:#38bdf8;text-decoration:none;}
    </style>
</head>
<body>
<div class="container">
    <h1>User Dashboard</h1>
    <p style="margin-top:0;color:#9ca3af;font-size:0.9rem;">
        Overview of your currently issued books and due dates.
    </p>
    <p>
        <a href="/user/books">Browse Books</a> |
        <a href="/logout">Logout</a>
    </p>

    <h2 style="font-size:1.05rem;margin-top:16px;">My Issued Books</h2>
    <table>
        <thead>
        <tr>
            <th>Book ID</th>
            <th>Title</th>
            <th>Author</th>
            <th>Due Date</th>
            <th>Status</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="b : ${issuedBooks}">
            <td th:text="${b.bookId}" style="font-weight:600;color:#38bdf8;">CS001</td>
            <td th:text="${b.title}">Title</td>
            <td th:text="${b.author}">Author</td>
            <td th:text="${b.dueDate}">2025-01-01</td>
            <td>
                <span th:if="${b.dueDate != null and b.dueDate.isBefore(today)}" class="badge badge-overdue">
                    Overdue
                </span>
                <span th:if="${b.dueDate == null or !b.dueDate.isBefore(today)}" class="badge badge-ok">
                    On Time
                </span>
            </td>
        </tr>
        <tr th:if="${#lists.isEmpty(issuedBooks)}">
            <td colspan="5" style="text-align:center;color:#6b7280;padding:16px;">
                No books currently issued.
            </td>
        </tr>
        </tbody>
    </table>
</div>
</body>
</html>


