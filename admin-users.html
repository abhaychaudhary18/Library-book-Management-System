<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Manage Users - Admin</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body{font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;background:#020617;color:#e5e7eb;margin:0;padding:24px;}
        .container{max-width:900px;margin:0 auto;}
        table{width:100%;border-collapse:collapse;margin-top:16px;}
        th,td{padding:8px 10px;border-bottom:1px solid #1f2933;font-size:0.9rem;}
        th{text-align:left;}
        .badge{display:inline-block;padding:2px 8px;border-radius:9999px;font-size:0.75rem;}
        .badge-active{background:rgba(22,163,74,0.16);border:1px solid rgba(34,197,94,0.65);}
        .badge-inactive{background:rgba(220,38,38,0.18);border:1px solid rgba(248,113,113,0.7);}
        .btn{padding:6px 10px;border-radius:9999px;border:1px solid #4b5563;background:transparent;color:#e5e7eb;cursor:pointer;font-size:0.85rem;}
        a{color:#38bdf8;text-decoration:none;}
    </style>
</head>
<body>
<div class="container">
    <h1>Registered Users</h1>
    <p style="margin-top:0;color:#9ca3af;font-size:0.9rem;">
        View and activate/deactivate user accounts. Deactivated users cannot log in.
    </p>
    <p><a href="/admin/dashboard">&larr; Back to dashboard</a></p>

    <table>
        <thead>
        <tr>
            <th>Username</th>
            <th>Role</th>
            <th>Status</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="u : ${users}">
            <td th:text="${u.username}">user</td>
            <td th:text="${u.role}">ROLE</td>
            <td>
                <span th:if="${u.active}" class="badge badge-active">Active</span>
                <span th:if="${!u.active}" class="badge badge-inactive">Inactive</span>
            </td>
            <td>
                <form th:action="@{'/admin/users/' + ${u.id} + '/toggle'}" method="post">
                    <button class="btn" type="submit"
                            th:text="${u.active} ? 'Deactivate' : 'Activate'">Toggle</button>
                </form>
            </td>
        </tr>
        </tbody>
    </table>
</div>
</body>
</html>


